<!DOCTYPE html>
<html>
<head>
    <title>displayTable_1</title>
    <meta charset="utf-8">
</head>
<body>
        <div class="container">
        <header>
            <h1>Training Tracer</h1>
            <h2>Pull One More</h2>
        </header>
        <section class="contents">
            <h3>Start Training!</h3>
                <table border="1">
                <thead>
                    <tr>
                        <th>
                            Training Name
                        </th>
                        <th>
                            Type
                        </th>
                        <th>
                            Pull / Set
                        </th>
                        <th>
                            Set
                        </th>
                    </tr>
                </thead>
                <tbody id="training">
                </tbody>
            </table>
        </section>        
    </div>
<script type="text/javascript">
//    makeTable2_2.html 에서 form 태그로 넘겨준 입력값을 파싱한다.
    var options = location.search.substring(1).split('&');
    var trainingName1 = options[0].split('=')[1];
    var trainingType1 = options[1].split('=')[1];
    var pullPerSet1 = options[2].split('=')[1];
    var setNum1 = options[3].split('=')[1];
    
//    표의 트레이닝 1 부분 작성
    
    if(trainingType1 === 'static') {
//        트레이닝 타입이 static일 경우의 표 작성
        
//        표 내용을 작성할 tbody 태그를 선택
        var tBody = document.getElementById('training');
        
//        1행 생성
        var firstRow = document.createElement('tr');
        
//        1행 1열 생성 - 트레이닝 이름 작성 : 트레이닝 이름을 입력하고 세트 수 만큼 rowspan 한다.
        var firstCol = document.createElement('td');
        firstCol.innerHTML = trainingName1;
        firstCol.setAttribute('rowspan', setNum1);
        
//        1행 2열 생성 - 트레이닝 타입 작성 : 트레이닝 타입을 입력하고 세트 수 만큼 rowspan한다.
        var secondCol = document.createElement('td');
        secondCol.innerHTML = trainingType1;
        secondCol.setAttribute('rowspan', setNum1);
        
//        1행 3열 생성 - 세트 당 반복 횟수
        var thirdCol = document.createElement('td');
        thirdCol.innerHTML = pullPerSet1;
        
//        1행 4열 생성 - 세트 : 1세트
        var fourthCol = document.createElement('td');
        fourthCol.innerHTML = '1<input type="checkbox">';
        
//        1행에 4개의 열을 추가
        firstRow.appendChild(firstCol);
        firstRow.appendChild(secondCol);
        firstRow.appendChild(thirdCol);
        firstRow.appendChild(fourthCol);
        
//        tBody에 1행 추가
        tBody.appendChild(firstRow);
        
//        반복문을 사용하여 2세트부터 마지막 세트까지 "반복 행을 만들고 tBody에 반복 행을 추가"하는 작업을 반복
        for(var i = 1; i < Number(setNum1); i++){
            (function(){
//                반복해서 추가할 행 생성
                var rpRow = document.createElement('tr');
//                반복 행의 pull/set 열 생성 - 세트 당 반복 횟수
                var rpFirstCol = document.createElement('td');
                rpFirstCol.innerHTML = pullPerSet1;
//                반복 행에 pull/set 열 추가
                rpRow.appendChild(rpFirstCol);
//                반복 행의 set 열 생성
                var rpSecondCol = document.createElement('td');
                rpSecondCol.innerHTML = String(i + 1) + '<input type="checkbox">';
//                반복 행에 set 열 추가
                rpRow.appendChild(rpSecondCol);
//                반복 행을 tBody에 추가
                tBody.appendChild(rpRow);
            })();
        }
    } else if(trainingType1 === 'pyramid'){
//        트레이닝 타입이 pyramid일 경우의 표 작성
        
//        표 내용을 작성할 tbody 태그를 선택
        var tBody = document.getElementById('training');
        
//        1행 생성
        var firstRow = document.createElement('tr');
        
//        1행 1열 생성 - 트레이닝 이름 작성 : 트레이닝 이름을 입력하고 세트 수 만큼 rowspan 한다.
        var firstCol = document.createElement('td');
        firstCol.innerHTML = trainingName1;
        firstCol.setAttribute('rowspan', setNum1);

//        1행 2열 생성 - 트레이닝 타입 작성 : 트레이닝 타입을 입력하고 세트 수 만큼 rowspan한다.
        var secondCol = document.createElement('td');
        secondCol.innerHTML = trainingType1;
        secondCol.setAttribute('rowspan', setNum1);
        
//        1행 3열 생성 - 세트 당 반복 횟수 피라미드가 올라가는 것 표현
        var thirdCol = document.createElement('td');
        var inText = '';
        for(var i = 0; i < Number(pullPerSet1); i++) {
            inText = inText + String(i + 1) + '<input type="checkbox"> ';
        }
        thirdCol.innerHTML = inText;
        
//        1행 4열 생성 - 세트 : 1세트
        var fourthCol = document.createElement('td');
        fourthCol.innerHTML = '1<input type="checkbox">';
        
//        1행에 4개의 열을 추가
        firstRow.appendChild(firstCol);
        firstRow.appendChild(secondCol);
        firstRow.appendChild(thirdCol);
        firstRow.appendChild(fourthCol);
        
//        tBody에 1행 추가
        tBody.appendChild(firstRow);
        
//        반복문을 사용하여 2세트부터 마지막 세트까지 "반복 행을 만들고 tBody에 반복 행을 추가"하는 작업을 반복
        for(var i = 1; i < Number(setNum1); i++){
            (function(){
//                반복해서 추가할 행 생성
                var rpRow = document.createElement('tr');
//                반복 행의 pull/set 열 생성 - 세트 당 반복 횟수 피라미드가 올라가는 것 표현
                var rpFirstCol = document.createElement('td');
                rpFirstCol.innerHTML = inText;
//                반복 행에 pull/set 열 추가
                rpRow.appendChild(rpFirstCol);
//                반복 행의 set 열 생성
                var rpSecondCol = document.createElement('td');
                rpSecondCol.innerHTML = String(i + 1) + '<input type="checkbox">';
//                반복 행에 set 열 추가
                rpRow.appendChild(rpSecondCol);
//                반복 행을 tBody에 추가
                tBody.appendChild(rpRow);
            })();
        }
    }
</script>
</body>
</html>